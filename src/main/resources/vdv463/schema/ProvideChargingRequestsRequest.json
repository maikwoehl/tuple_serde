{
   "$schema":"http://json-schema.org/draft-04/schema#",
   "$id":"urn:VDV463:1:0:0:ProvideChargingRequestsRequest",
   "comment":"VDV463 1.0.0 FINAL",
   "title":"ProvideChargingRequestsRequest",
   "description":"This type represents the data associated with charging requests sent by a presystem to a load management system.",
   "type":"object",
   "properties":{
      "chargingRequestList":{
         "type":"array",
         "minItems":1,
         "items":{
            "$ref":"#/definitions/ChargingRequest"
         }
      }
   },
   "required":[
      "chargingRequestList"
   ],
   "definitions":{
      "VehicleIdentifer":{
         "description":"This type represents an unique vehicle identifier associated with VDV261.",
         "type":"string"
      },
      "UniqueIdentifier":{
         "type":"string",
         "description":"This type represents an unique identifier according to RFC3986.",
         "format":"uri"
      },
      "ChargingInstruction":{
         "type":"string",
         "enum":[
            "Normal",
            "Changed",
            "Terminate"
         ]
      },
      "ChargingRequestData":{
         "type":"object",
         "properties":{
            "expectedArrivalTimeAtChargingPoint":{
               "type":"string",
               "format":"date-time"
            },
            "expectedSocAtArrival":{
               "type":"number"
            },
            "minTargetSoc":{
               "type":"number"
            },
            "maxTargetSoc":{
               "type":"number"
            },
            "requestedTimeForDeparture":{
               "type":"string",
               "format":"date-time"
            },
            "adHocCharging":{
               "type":"boolean"
            }
         },
         "required":[
            "minTargetSoc",
            "maxTargetSoc"
         ]
      },
      "PreconditioningRequest":{
         "type":"string",
         "enum":[
            "WarmWaterAndVentilation",
            "HotWaterAndHeating",
            "NoWaterCoolingOrVentilation",
            "NoClimaticPreconditioningOrSNA"
         ]
      },
      "AutomaticPreconditioning":{
         "description":"This type imposes properties regarding automatic preconditioning.",
         "type":"object",
         "properties":{
            "preconditioningRequest":{
               "$ref":"#/definitions/PreconditioningRequest"
            },
            "ambientTemperature":{
               "type":"number"
            },
            "requestedFinishTime":{
               "type":"string",
               "format":"date-time"
            }
         },
         "required":[
            "preconditioningRequest"
         ]
      },
      "ManualPreconditioning":{
         "description":"This type imposes properties regarding manual preconditioning.",
         "type":"object",
         "properties":{
            "hvacPreconditioningStartTime":{
               "type":"string",
               "format":"date-time"
            },
            "hvacAuxiliaryConsumerPower":{
               "type":"integer"
            },
            "systemPreconditioningStartTime":{
               "type":"string",
               "format":"date-time"
            },
            "systemAuxiliaryConsumerPower":{
               "type":"integer"
            }
         },
         "required":[
            "hvacPreconditioningStartTime",
            "systemPreconditioningStartTime"
         ]
      },
      "ChargingRequest":{
         "description":"This type represents a charging request.",
         "type":"object",
         "properties":{
            "chargingPointId":{
               "$ref":"#/definitions/UniqueIdentifier"
            },
            "vehicleId":{
               "$ref":"#/definitions/VehicleIdentifer"
            },
            "chargingRequestId":{
               "$ref":"#/definitions/UniqueIdentifier"
            },
            "chargingProcessId":{
               "$ref":"#/definitions/UniqueIdentifier"
            },
            "priority":{
               "type":"integer"
            },
            "chargingInstruction":{
               "$ref":"#/definitions/ChargingInstruction"
            },
            "chargingRequestData":{
               "$ref":"#/definitions/ChargingRequestData"
            },
            "automaticPreconditioning":{
               "$ref":"#/definitions/AutomaticPreconditioning"
            },
            "manualPreconditioning":{
               "$ref":"#/definitions/ManualPreconditioning"
            }
         },
         "required":[
         	"vehicleId",
            "chargingRequestId",
            "chargingRequestData"
         ]
      }
   }
}